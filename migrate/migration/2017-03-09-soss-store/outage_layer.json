{
  "name": "BMagLayer",
  "layer_name": "Outage",
  "resource": "outage",
  "resource_type": "socket",
  "id_field": "id",
  "geometry": "location",
  "mag_field": "customers_affected",
  "mag_multiplier": 0.5,
  "config": {
    "renderer": {
      "defaultSymbol": {
        "type": "esriSMS",
        "style": "esriSMSCircle",
        "size": 100,
        "color": [255, 0, 85, 51],
        "outline": {
          "width": 1,
          "color": [255, 0, 100],
          "style": "esriSFSSolid"
        }
      },
      "selectedSymbol": {
        "type": "esriSMS",
        "style": "esriSMSCircle",
        "size": 100,
        "color": [0, 0 , 255, 51],
        "outline": {
          "width": 1,
          "color": [0, 0, 255],
          "style": "esriSFSSolid"
        }
      },
      "visualVariables": [
        {
          "type": "sizeInfo",
          "field": "mag",
          "valueUnit": "feet",
          "minDataValue": 100,
          "maxDataValue": 10000
        }
      ]
    }
  },
  "dispatch": [
    {
        "onEvent": "FeatureClicked",
        "message": "outageClicked"
    },
    {
      "onEvent": "FeatureSelected",
      "message": "outageSelected"
    }
  ],
  "observe": [
    {
      "onMessage": "filterOutages",
      "action":    "filterData"
    },
    {
      "onMessage": "outageClicked",
      "action":    "toggleSelection"
    },
    {
      "onMessage": "outageSelected",
      "action":    "selectFeature"
    },
    {
      "onMessage": "selectOutagesByExtent",
      "action": "selectFeaturesByExtent"
    }
  ]
}
